{"version":3,"file":"marionette-dropdown","sources":["marionette-dropdown/src/cocktail.js","marionette-dropdown/src/views/item.js","marionette-dropdown/src/mixins/dropdown.js","marionette-dropdown/src/templates.js","marionette-dropdown/src/loading.js","marionette-dropdown/src/utils.js","marionette-dropdown/src/views/dropdown.js","marionette-dropdown/src/index.js"],"sourcesContent":["\nimport _ from 'lodash'\n\nimport Backbone from 'backbone'\nimport Marionette from 'marionette'\nimport Cocktail from 'cocktail'\n\nlet originalExtend = Backbone.Model.extend\n\nlet extend = function (protoProps, classProps) {\n  let klass = originalExtend.call(this, protoProps, classProps)\n  let mixins = klass.prototype.mixins\n  if (mixins && klass.prototype.hasOwnProperty('mixins')) {\n    Cocktail.mixin(klass, mixins)\n  }\n  return klass\n}\n\n_.each([\n  Backbone.Model,\n  Backbone.Collection,\n  Backbone.Router,\n  Backbone.View,\n  Marionette.ItemView,\n  Marionette.CollectionView,\n  Marionette.CompositeView,\n  Marionette.LayoutView\n], function (klass) {\n  klass.mixin = function mixin () {\n    Cocktail.mixin(this, _.toArray(arguments))\n  }\n  klass.extend = extend\n})\n","\nimport Marionette from 'marionette'\n\nexport default Marionette.ItemView.extend({\n  tagName: 'li',\n  template: (data) => data.text,\n  events: {\n    mouseover: 'onMouseOver'\n  },\n  triggers: {\n    click: 'select'\n  },\n  onMouseOver: function () {\n    this.trigger('focus')\n  },\n  attributes: function () {\n    return {'data-value': this.model.id}\n  }\n})\n","\nimport $ from 'jquery'\nimport _ from 'lodash'\n\nimport animation from 'animation'\n\nexport default {\n  events: {\n    keydown: 'onKeyDown'\n  },\n  initialize: function (options) {\n    this.maxSize = this.maxSize || options.maxSize\n    this.placeholder = this.placeholder || options.placeholder\n    this.expanded = false\n    this.showing = false\n    this.hiding = false\n    this.name = options.name\n    this.parent = options.parent\n    if (this.getCollection) {\n      this.collection = this.getCollection()\n    } else {\n      this.collection = options.collection\n    }\n  },\n  onRender: function () {\n    if (this.expanded) { this.list.$el.css({opacity: 1}) }\n    this.scrollParent = this.$el.closest('.nano-content')\n  },\n  onParentScroll: function (e) {\n    let listHeight = parseInt(this.list.$el.css('height'), 10)\n    this.positionList(listHeight)\n  },\n  onDestroy: function () {\n    $(window).off('click', this.hideListFunc)\n    this.scrollParent.off('scroll', this.hideListFunc)\n    this.scrollParent.off('scroll', this.onParentScrollFunc)\n  },\n  onKeyDown: function (e) {\n    if (this.list && this.list.onKeyDown) this.list.onKeyDown(e)\n  },\n  serializeData: function () {\n    return {\n      name: this.name,\n      placeholder: this.placeholder\n    }\n  },\n  toggleList: function () {\n    if (this.expanded) {\n      this.hideList()\n    } else {\n      this.showList()\n    }\n  },\n  resetListWidth: function (width) {\n    if (this.list && this.list.$el) {\n      let listWidth = this.getListWidth()\n      let elWidth = this.$el.outerWidth()\n      this.list.$el.outerWidth(_.max([listWidth, elWidth]))\n    }\n  },\n  positionList: function (listHeight) {\n    let listEl = this.list.$el\n    let windowHeight = $(window).height()\n    let windowWidth = $(window).width()\n    let elOffset = this.$el.offset()\n    let elHeight = this.$el.outerHeight()\n    let elWidth = this.$el.outerWidth()\n    let listWidth = this.list.$el.outerWidth()\n    let potentialTop = elOffset.top - listHeight\n    let potentialBottom = elOffset.top + elHeight + listHeight\n    let potentialRight = elOffset.left + listWidth\n    let expandedToLeft = (potentialRight > windowWidth)\n    let expandedToTop = (potentialBottom > windowHeight) && (potentialTop > 0)\n    if (expandedToTop) {\n      listEl.css({top: '', bottom: (windowHeight - elOffset.top)})\n    } else {\n      listEl.css({top: (elOffset.top + elHeight), bottom: ''})\n    }\n    if (expandedToLeft) {\n      listEl.css({right: (windowWidth - (elOffset.left + elWidth))})\n    } else {\n      listEl.css({left: elOffset.left})\n    }\n  },\n  showList: function () {\n    if (!this.showing && !this.hiding && !this.collection.isEmpty()) {\n      // Add the class indicating open status\n      this.$el.addClass('open')\n      // Raise the element to maintain visiblity\n      this.$el.css('z-index', 2)\n      // Create the list view\n      this.list = new this.focusListView({\n        maxSize: this.maxSize,\n        childView: this.dropdownItemView,\n        collection: this.collection\n      })\n      // Attach to the list close event\n      this.list.listenTo(this.list, 'close', this.hideList.bind(this))\n      // Prevent list from automatically rendering on collection reset\n      this.list.stopListening(this.collection, 'reset')\n      // Render the list before showing\n      this.list.render()\n      // Apply parent styles\n      this.list.$el.css(this.$el.css(['font-size', 'line-height']))\n      // Reset the list width\n      this.resetListWidth()\n      // Move the list element to the indicated overlay\n      this.getOverlay().append(this.list.$el)\n      // Get the list element\n      let listEl = this.list.$el\n      // Reset the list height\n      this.list.resetHeight()\n      let listHeight = parseInt(listEl.css('height'), 10)\n      // Flatten the list element\n      animation.flat(listEl)\n      // Position the list before animation\n      this.positionList(listHeight)\n      // Trigger the dropdown show event\n      this.trigger('dropdown:show')\n      // Attach to event for hiding and scrolling the list on scroll\n      this.onParentScrollFunc = this.onParentScroll.bind(this)\n      this.scrollParent.on('scroll', this.onParentScrollFunc)\n      // Attach to event for hiding the list on click (skip current)\n      _.defer(() => {\n        this.hideListFunc = _.bind(this.hideList, this, null)\n        $(window).one('click', this.hideListFunc)\n        this.scrollParent.one('scroll', this.hideListFunc)\n      })\n      // Expand and show the list\n      this.showing = true\n      return animation.grow(listEl, 'height', listHeight).then(() => {\n        this.showing = false\n        this.expanded = true\n        this.list.refreshScroll()\n        // Listen to select events\n        this.listenTo(this.list, 'select', this.onItemSelect)\n        // Trigger freeze on parent if available\n        if (this.parent) { this.parent.trigger('freeze') }\n      })\n    } else {\n      return Promise.resolve()\n    }\n  },\n  hideList: function () {\n    if ((!this.hiding && this.expanded) || this.showing) {\n      // Remove the class indicating open status\n      this.$el.removeClass('open')\n      // Remove the item select handler after potential handling\n      _.defer(() => this.stopListening(this.list, 'select', this.onItemSelect))\n      // Shrink and hide the element\n      this.hiding = true\n      return animation.shrink(this.list.$el, 'height').then(() => {\n        this.hiding = false\n        this.expanded = false\n        // Return the element to it's original level\n        this.$el.css('z-index', '')\n        // Destory the list\n        this.list.destroy()\n        // Detach from the scroll and hiding events\n        $(window).off('click', this.hideListFunc)\n        this.scrollParent.off('scroll', this.onParentScrollFunc)\n        this.scrollParent.off('scroll', this.hideListFunc)\n        // Trigger the hidden event\n        this.trigger('hidden')\n        // Trigger freeze on parent if available\n        if (this.parent) { this.parent.trigger('thaw') }\n      })\n    } else {\n      return Promise.resolve()\n    }\n  }\n}\n","import handlebars from 'handlebars'\n\nexport default {\n'dropdown': handlebars.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \" name=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"dropdown-button\\\">\\n  <div class=\\\"button-text\\\"></div>\\n  <i class=\\\"icons expand\\\">expand_more</i>\\n</div>\\n<input type=\\\"hidden\\\"\"\n    + ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.name : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" />\\n\";\n},\"useData\":true}),\n'spinner': handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<svg class=\\\"spinner\\\" width=\\\"65px\\\" height=\\\"65px\\\" viewBox=\\\"0 0 66 66\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <circle class=\\\"spinner-path\\\" fill=\\\"none\\\" stroke-width=\\\"6\\\" stroke-linecap=\\\"round\\\" cx=\\\"33\\\" cy=\\\"33\\\" r=\\\"30\\\"></circle>\\n</svg>\\n\";\n},\"useData\":true}),\n}\n","\nimport $ from 'jquery'\n\nimport templates from './templates'\n\nconst spinnerHtml = templates['spinner']({})\n\nfunction add (el) {\n  let loadingEl = $('<div class=\"loading\"></div>')\n  loadingEl.append(spinnerHtml)\n  el.append(loadingEl)\n}\n\nfunction remove (el) {\n  el.children('.loading').remove()\n}\n\nfunction loading (el, on) {\n  if (on) {\n    add(el)\n  } else {\n    remove(el)\n  }\n}\n\nexport default loading\n","\nimport _ from 'lodash'\n\nimport loading from './loading'\n\nfunction defined () {\n  return _.find(arguments, function (o) {\n    return (o !== undefined)\n  })\n}\n\nfunction transfer (sender, receiver, eventName) {\n  sender.listenTo(sender, eventName, function () {\n    let args = _([eventName]).concat(arguments).value()\n    receiver.trigger.apply(receiver, args)\n  })\n}\n\nfunction loadingEvents (receiver, sender) {\n  transfer(sender, receiver, 'loading')\n  transfer(sender, receiver, 'loaded')\n}\n\nfunction loadingActions (view) {\n  view.listenTo(view, 'loading', () => { loading(view.$el, true) })\n  view.listenTo(view, 'loaded', () => { loading(view.$el, false) })\n}\n\nexport default {\n  defined,\n  loadingActions,\n  loadingEvents\n}\n","\nimport $ from 'jquery'\nimport _ from 'lodash'\n\nimport Marionette from 'marionette'\nimport {FocusListView} from 'focuslist'\n\nimport ItemView from './item'\nimport DropdownMixin from '../mixins/dropdown'\n\nimport utils from '../utils'\nimport templates from '../templates'\n\nconst DropdownFocusListView = FocusListView.extend({\n  attributes: {class: 'dropdownList focusList'}\n})\n\nexport default Marionette.LayoutView.extend({\n  mixins: [DropdownMixin],\n  template: templates['dropdown'],\n  focusListView: DropdownFocusListView,\n  dropdownItemView: ItemView,\n  attributes: {\n    class: 'dropdown'\n  },\n  ui: {\n    button: '.dropdown-button',\n    text: '.button-text',\n    input: 'input'\n  },\n  events: {\n    'change @ui.input': 'onInputChange',\n    'click @ui.button': 'onButtonClick',\n    'focus @ui.button': 'onButtonFocus',\n    'blur @ui.button': 'onButtonBlur'\n  },\n  initialize: function (options) {\n    this.listenTo(this, 'dropdown:show', this.onDropdownShow)\n    utils.loadingEvents(this, this.collection)\n    utils.loadingActions(this, true)\n  },\n  onDropdownShow: function () {\n    // Indicate currently selected item with focus\n    if (this.selected) {\n      let child = this.list.children.findByModel(this.selected)\n      if (child) { child.$el.addClass('focus') }\n    }\n  },\n  onRender: function () {\n    this.determineState()\n    this.listenTo(this.collection, 'reset', this.determineState)\n  },\n  onShow: function () {\n    if (this.selected) { this.select(this.selected, true) }\n  },\n  onInputChange: function () {\n    let value = this.ui.input.val()\n    this.selectId(value)\n  },\n  onButtonClick: function (e) {\n    if (!this.expanded) {\n      _.defer(this.showList.bind(this))\n    }\n  },\n  onButtonFocus: function (e) {\n    if (!this.expanded) {\n      _.defer(this.showList.bind(this))\n    }\n  },\n  onButtonBlur: function (e) {\n    if (this.expanded) {\n      let focusedView = this.list.findFocusedItem()\n      if (focusedView !== undefined) {\n        this.list.trigger('select', focusedView)\n      }\n    }\n  },\n  onItemSelect: function (child) {\n    this.select(child.model, true)\n    this.hideList()\n  },\n  getOverlay: function () {\n    return $('body')\n  },\n  getFirst: function () {\n    let visible = this.collection.filter(function (o) {\n      return !(o.get('visible') === false)\n    })\n    return _.first(visible)\n  },\n  getSelected: function () {\n    return this.selected\n  },\n  getListWidth: function () {\n    let el = this.ui.text\n    let text = el.text()\n    let width = 0\n    el.css({visibility: 'hidden'})\n    this.collection.each((model) => {\n      el.text(model.get('text'))\n      if (el.width() > width) width = el.width()\n    })\n    el.html(text)\n    el.css('visibility', '')\n    return width\n  },\n  determineState: function () {\n    this.disabled = (this.collection.size() === 0)\n    if (this.disabled) {\n      this.$el.addClass('disabled')\n      this.ui.button.attr('tabindex', -1)\n      this.select(null)\n    } else {\n      this.$el.removeClass('disabled')\n      this.ui.button.attr('tabindex', 0)\n      if (this.selectedId) {\n        this.select(this.collection.get(this.selectedId))\n        this.selectedId = null\n      } else {\n        let id = this.ui.input.val() || (this.selected && this.selected.id)\n        this.select(this.collection.get(id) || this.getFirst())\n      }\n    }\n  },\n  select: function (model, trigger) {\n    let changed = !(this.selected === model)\n    this.selected = model\n    if (this.isRendered) {\n      if (this.selected) {\n        this.ui.text.html(this.selected.get('text'))\n        this.ui.input.val(this.selected.id)\n      } else {\n        this.ui.text.html('---')\n        this.ui.input.val('')\n      }\n      if (trigger) { this.ui.input.trigger('change') }\n    }\n    if (changed) { this.trigger('select', this.selected) }\n  },\n  selectId: function (id, trigger) {\n    if (id === undefined || id === null || _.size(id) === 0) {\n      this.select(this.getFirst(), trigger)\n    } else {\n      let item = this.collection.get(id)\n      if (!item) {\n        this.selectedId = id\n      } else {\n        this.select(this.collection.get(id), trigger)\n      }\n    }\n  },\n  refresh: function () {\n    this.ui.text.css('min-width', this.getListWidth())\n  },\n  setVisibleOptions: function (visible) {\n    // Set the visibility of each model in the collection\n    this.collection.each(function (model) {\n      model.set('visible', _.includes(visible, model.id))\n    })\n    // Determine if the selection should be changed\n    if (this.selected) {\n      if (this.selected.get('visible') === false) {\n        this.select(this.getFirst())\n      }\n    }\n    // Re-render the list and refresh calculations\n    this.refresh()\n  }\n})\n","\nimport './cocktail'\n\nimport DropdownView from './views/dropdown'\nimport DropdownItemView from './views/item'\nimport DropdownMixin from './mixins/dropdown'\n\nexport default {\n  DropdownView,\n  DropdownItemView,\n  DropdownMixin\n}\n"],"names":["FocusListView"],"mappings":"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"}